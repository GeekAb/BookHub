function bookListSuccess(e){e.detail=function(){return JSON.stringify(this)};var t=$("#bookinfo-template").html(),r=Mustache.to_html(t,e);$("#all-books").html(r),bindActions(),$.material.init()}function bookListFail(){}function bindActions(){$(".check-detail").unbind("click").bind("click",function(){$(".other-details").hide();var e=$(this).attr("id").split("-")[1];$(".thumbnail").removeClass("selected"),$("#"+e+" .thumbnail").addClass("selected");var t=$("#"+e).data("details");t.f_rating=function(){var e="";for(i=0;i<parseInt(t.rating);i++)e+='<i class="material-icons rating-icon">grade</i>';return e};var r=$("#bookinfo-details-template").html(),o=Mustache.to_html(r,t);$("#book-details").html(o)}),$("input.search-book-input").keypress(function(){setTimeout(function(){searchBooks($(this).val())},10)}),$("input.search-book-input").keyup(function(){searchBooks($(this).val())})}function searchBooks(e){$(".book-element").each(function(){$(this).text().search(e)>-1?$(this).show():$(this).hide()})}App.init(),App.callAPI("book-list","?type=json&query=list_books",{authCheck:!1,successCallback:bookListSuccess,errorCallback:bookListFail});